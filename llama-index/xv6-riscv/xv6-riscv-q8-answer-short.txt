On RISC-V, a minimal boot loader in ROM loads the xv6 kernel into memory at physical address 0x80000000. Execution starts at the kernel entry point _entry in kernel/entry.S, which runs in machine mode​. _entry sets up a stack for each hart (CPU) and then jumps to the C function start() (in kernel/start.c). The start() function enables paging and switches to supervisor mode, then calls the kernel main() in kernel/main.c​. Inside main(), xv6 initializes devices and then creates the first user process by calling userinit() (which sets up the init process)​. The init process runs initcode.S and execs /init, after which the system is up and running.
