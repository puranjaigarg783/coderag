The scheduling loop is in the scheduler() function (in kernel/proc.c). This function runs on each CPU: it repeatedly loops through the process table to find a process in the RUNNABLE state, then sets it to RUNNING and context-switches to it using swtch()â€‹. When that process yields or exits (changing its state), control returns to scheduler(), which continues the loop.
